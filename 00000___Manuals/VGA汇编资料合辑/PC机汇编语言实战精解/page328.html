<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<title>附录A 21H中断功能调用</title>
</head>

<body>
<style type="text/css">
body {
	background-color: #c0c0c0;
}

table {
	background-color: #c0c0c0;
	line-height: 24px;
}
</style>
<!导航条>
<p><a href="content1.html">目录</a> <a href="page327.html">上一页</a> <a href="page329.html">下一页</a> <a href="page332.html">附录B</a></p>
<table 	border=0 align="center" width=800 frame="box" rules="none">
<!标尺行>
<tr>
<td width=3%></td><td width=6%></td><td width=1%></td>
<td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td>
<td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td>
<td width=1%></td><td width=6%></td><td width=3%></td>
</tr>
<!页眉行>
<tr height=60 valign="bottom">
<td></td><td>-328-</td><td></td> <!页码>
<td colspan=6>PC机汇编语言实战精解</td><td colspan=4></td><td colspan=6 align="right"><img src="icons/flag.gif"></td> <!书名>
<td></td><td></td><td></td> <!右侧空白>
</tr>
<!页眉线>
<tr valign="top">
<td></td><td colspan=20><hr></td><td></td>
</tr>
<!正文>
<font face="宋体" lang="ZH-CN" size=3>
<tr height=20><td colspan=22></td></tr> <!顶部空白>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18><font face="黑体"><a name="AAA">附录A 21H中断功能调用</a></font></td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
<table border=1 width=650 frame="box">
<tr>
<td width=5%>AH</td><td width=35%>功能</td><td width=30%>调用参数</td><td width=30%>返回参数</td>
</tr>
<tr>
<td width=5%>00</td><td width=35%>终止进程</td><td width=30%>CS=程序段前缀段地址</td><td width=30%></td>
</tr>
<tr>
<td width=5%>01</td><td width=35%>带回显的键盘输入</td><td width=30%></td><td width=30%>AL=输入字符</td>
</tr>
<tr>
<td width=5%>02</td><td width=35%>显示一个字符</td><td width=30%>DL=待输出字符的ASCII码</td><td width=30%></td>
</tr>
<tr>
<td width=5%>03</td><td width=35%>异步通讯输入</td><td width=30%></td><td width=30%>AL=输入的数据</td>
</tr>
<tr>
<td width=5%>04</td><td width=35%>异步通讯输出</td><td width=30%>DL=待输出的数据</td><td width=30%></td>
</tr>
<tr>
<td width=5%>05</td><td width=35%>打印机输出</td><td width=30%>DL=待输出的字符</td><td width=30%></td>
</tr>
<tr>
<td width=5%>06</td><td width=35%>直接控制台I/O</td><td width=30%>DL=0FFH：输入<br>DL=字符的ASCII码：输出</td><td width=30%>AL=输入的字符</td>
</tr>
<tr>
<td width=5%>07</td><td width=35%>无回显的键盘输入</td><td width=30%></td><td width=30%>AL=输入的字符</td>
</tr>
<tr>
<td width=5%>08</td><td width=35%>无回显的键盘输入（检测Ctrl-C）</td><td width=30%></td><td width=30%>AL=输入的字符</td>
</tr>
<tr>
<td width=5%>09</td><td width=35%>字符串输出</td><td width=30%>DS:DX=字符串首</td><td width=30%></td>
</tr>
<tr>
<td width=5%>0A</td><td width=35%>键盘输入至缓冲区</td><td width=30%>DS:DX=缓冲区首<br>DS:[DX]=缓冲区最大容量</td><td width=30%>DS:[DX+1]=输入的字符数<br>DS:DX+2=字符串首</td>
</tr>
<tr>
<td width=5%>0B</td><td width=35%>检测键盘状态</td><td width=30%></td><td width=30%>AL=00：有输入<br>AL=FF：无输入</td>
</tr>
<tr>
<td width=5%>0C</td><td width=35%>清除缓冲区并请求指定的输入功能</td><td width=30%>AL=输入功能的功能号<br>（1、6、7、8、A）</td><td width=30%></td>
</tr>
<tr>
<td width=5%>0D</td><td width=35%>磁盘复位</td><td width=30%></td><td width=30%>清除文件缓冲区</td>
</tr>
<tr>
<td width=5%>0E</td><td width=35%>指定当前缺省磁盘驱动器</td><td width=30%>DL=驱动器号0：A；1：B</td><td width=30%></td>
</tr>
<tr>
<td width=5%>0F</td><td width=35%>打开文件</td><td width=30%>DS:DX=FCB首地址</td><td width=30%>AL=00：文件打开<br>AL=0FFH：出错</td>
</tr>
<tr>
<td width=5%>10</td><td width=35%>关闭文件</td><td width=30%>DS:DX=FCB首地址</td><td width=30%>AL=00：文件关闭<br>AL=FF：出错</td>
</tr>
<tr>
<td width=5%>11</td><td width=35%>查找第一个目录项</td><td width=30%>DS:DX=FCB首地址</td><td width=30%>AL=00：找到<br>AL=FF：出错</td>
</tr>
<tr>
<td width=5%>12</td><td width=35%>查找下一个目录项</td><td width=30%>DS:DX=FCB首地址<br>（文件名中带*或?）</td><td width=30%>AL=00：找到<br>AL=FF：出错</td>
</tr>
<tr>
<td width=5%>13</td><td width=35%>删除文件</td><td width=30%>DS:DX=FCB首地址</td><td width=30%>AL=00：成功删除<br>AL=FF：出错</td>
</tr>
<tr>
<td width=5%>14</td><td width=35%>顺序读</td><td width=30%>DS:DX=FCB首地址</td><td width=30%>AL=00：读成功<br>AL=01：文件已到末尾<br>AL=02：DTA溢出<br>AL=03：读入部分数据</td>
</tr>
<tr>
<td width=5%>15</td><td width=35%>顺序写</td><td width=30%>DS:DX=FCB首地址</td><td width=30%>AL=00：写成功<br>AL=01：磁盘满<br>AL=02：DTA溢出</td>
</tr>
<tr>
<td width=5%>16</td><td width=35%>建立文件</td><td width=30%>DS:DX=FCB首地址</td><td width=30%>AL=00：文件成功建立<br>AL=FF：出错</td>
</tr>
<tr>
<td width=5%>17</td><td width=35%>文件改名</td><td width=30%>DS:DX=特殊的FCB首地址</td><td width=30%>AL=00：改名成功<br>AL=FF：出错</td>
</tr>
<tr>
<td width=5%>19</td><td width=35%>取当前缺省驱动器名</td><td width=30%></td><td width=30%>AL=缺省驱动器号<br>0：A；1：B；...</td>
</tr>
<tr>
<td width=5%>1A</td><td width=35%>置DTA地址</td><td width=30%>DS:DX=DTA首地址</td><td width=30%></td>
</tr>
</table>
</td>
<td></td><td></td> <!右边距>
</tr>

</font>

<!页脚线>
<tr valign="top">
<td></td><td colspan=20><hr></td><td></td>
</tr>
<!页脚>
<tr height=60 valign="top">
<td></td><td></td>
<td colspan=9><i>Copyright &copy; 2004-2005 <a href="mailto:webmaster@nucstorm.com">Chunk Lee</a></i></td>
<td colspan=9 align="right"><i><a href="http://www.nucstorm.com" target="_top">www.nucstorm.com</a></i></td>
<td></td><td></td>
</tr>
</table>
<!导航条>
<p align="right"><a href="content1.html">目录</a> <a href="page327.html">上一页</a> <a href="page329.html">下一页</a> <a href="page332.html">附录B</a></p>
</body>
</html>
