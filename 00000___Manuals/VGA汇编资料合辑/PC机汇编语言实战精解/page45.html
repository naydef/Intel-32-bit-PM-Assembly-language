<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<title>第4章 奇妙的声音</title>
</head>

<body>
<style type="text/css">
body {
	background-color: #c0c0c0;
}

table {
	background-color: #c0c0c0;
	line-height: 24px;
}
</style>
<!导航条>
<p><a href="content1.html">目录</a> <a href="page44.html">上一页</a> <a href="page46.html">下一页</a> <a href="page80.html">下一章</a></p>
<table border=0 align="center" width=800 frame="box" rules="none">
<!标尺行>
<tr>
<td width=3%></td><td width=6%></td><td width=1%></td> <!左侧空白>
<td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td>
<td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td>
<td width=1%></td><td width=6%></td><td width=3%></td> <!右侧空白>
</tr>
<!页眉行>
<tr height=60 valign="bottom">
<td></td><td></td><td></td>
<td colspan=6><img src="icons/flag.gif"></td><td colspan=4></td><td colspan=6 align="right">第4章 奇妙的声音</td> <!章节名>
<td></td><td>-45-</td><td></td> <!页码>
</tr>
<!页眉线>
<tr valign="top">
<td></td><td colspan=20><hr></td><td></td>
</tr>
<!正文>
<font face="宋体" lang="ZH-CN" size=3>
<tr height=20><td colspan=22></td></tr> <!顶部空白>
<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
<font face="隶书" lang="ZH-CN" size=6><p align="CENTER">第4章  奇妙的声音</p></font>
<font face="黑体" lang="ZH-CN"><a name="41"><p>4．1 控制定时器</p></a></font>
　　第二章中介绍了通过端口61H的bit1位发出声音的技术时曾经遗留了一个问题，那就是如何精确地控制声音的频率。本节将解决这个问题，新的程序将彻底抛弃"LOOP"指令，而应用新的方法产生具有准确频率的声音。
</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
<font face="黑体" lang="ZH-CN"><a name="411"><p>4．1．1 定时电路</p></a></font>
　　早期的PC系列机中有一个专门用于定时的集成电路，型号是8253/8254。它有三个通道，第一个通道用于控制系统时钟正常运转；第二个通道用于存储器刷新；这两个通道与我们现在讨论的问题无关。第三个通道是最有意思的，它通过一组电路与喇叭相联。<br>
　　图4－1所示即为PC机中完整的发声电路。定时器通道3的G端与61H端口的bit0位相联，如果将61H端口的bit0位置成1，那么定时器通道3就被启动，此时将有一组信号从OUT端输出，信号的频率可以用程序控制；若61H端口bit0位为0，则定时器被关闭，OUT端就会恒定为1。
</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18 align="center">
<img src="figures/F4_1.gif"><br><font face="楷体_GB2312">图4-1 发声电路</font>
</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
　　图中的"与门"电路有些不好理解，这个电路是用于实现"与逻辑"的。它有两个输入端I1、I2和一个输出端O（见图4－2），输入端与输出端的逻辑关系在表4－1中给出，可以看到，
</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=9>
<font face="楷体_GB2312">表4-1 与门电路输入-输出关系</font>
</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=4 align="center">输 入</td><td colspan=5 align="center">输 出</td>
<td colspan=9 rowspan=6 align="center"><img src="figures/F4_2.gif"><br><font face="楷体_GB2312">图4-2 与门电路</font>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=2 align="center">I<sub>1</sub></td><td colspan=2 align="center">I<sub>2</sub></td><td colspan=5 align="center">O</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=2 align="center">0</td><td colspan=2 align="center">0</td><td colspan=5 align="center">0</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=2 align="center">0</td><td colspan=2 align="center">1</td><td colspan=5 align="center">0</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=2 align="center">1</td><td colspan=2 align="center">0</td><td colspan=5 align="center">0</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=2 align="center">1</td><td colspan=2 align="center">1</td><td colspan=5 align="center">1</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
只有两个输入端都为1时输出才是1，这和我们前面所讲的"AND"逻辑操作是完全一样的。
</td>
<td></td><td></td> <!右边距>
</tr>

<!页脚线>
<tr valign="top">
<td></td><td colspan=20><hr></td><td></td>
</tr>
<!页脚>
<tr height=60 valign="top">
<td></td><td></td>
<td colspan=9><i>Copyright &copy; 2004-2005 <a href="mailto:webmaster@nucstorm.com">Chunk Lee</a></i></td>
<td colspan=9 align="right"><i><a href="http://www.nucstorm.com" target="_top">www.nucstorm.com</a></i></td>
<td></td><td></td>
</tr>
</table>
<!导航条>
<p align="right"><a href="content1.html">目录</a> <a href="page44.html">上一页</a> <a href="page46.html">下一页</a> <a href="page80.html">下一章</a></p>
</body>
</html>

