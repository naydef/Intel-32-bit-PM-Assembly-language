<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<title>第4章 奇妙的声音</title>
</head>

<body>
<style type="text/css">
body {
	background-color: #c0c0c0;
}

table {
	background-color: #c0c0c0;
	line-height: 24px;
}
</style>
<!导航条>
<p><a href="content1.html">目录</a> <a href="page50.html">上一页</a> <a href="page52.html">下一页</a> <a href="page80.html">下一章</a></p>
<table border=0 align="center" width=800 frame="box" rules="none">
<!标尺行>
<tr>
<td width=3%></td><td width=6%></td><td width=1%></td> <!左侧空白>
<td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td>
<td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td>
<td width=1%></td><td width=6%></td><td width=3%></td> <!右侧空白>
</tr>

<!页眉行>
<tr height=60 valign="bottom">
<td></td><td></td><td></td>
<td colspan=6><img src="icons/flag.gif"></td><td colspan=4></td><td colspan=6 align="right">第4章 奇妙的声音</td> <!章节名>
<td></td><td>-51-</td><td></td> <!页码>
</tr>
<!页眉线>
<tr valign="top">
<td></td><td colspan=20><hr></td><td></td>
</tr>
<!正文>
<font face="宋体" lang="ZH-CN" size=3>
<tr height=20><td colspan=22></td></tr> <!顶部空白>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
　　得到正确的目标文件后，我们就可以用连接程序（LINK或TLINK）将其转换成可执行文件（.COM或.EXE文件），使用LINK.EXE的方法是：
</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
C:\ASM\>LINK[Enter]<br>
<br>
Microsoft (R) Overlay Linker  Version 3.60<br>
Copyright (C) Microsoft Corp 1983-1987.  All rights reserved.<br>
<br>
Object Modules [.OBJ]: prog7[Enter]<br>
Run File [PROG7.EXE]: [Enter]<br>
List File [NUL.MAP]: [Enter]<br>
Libraries [.LIB]: [Enter]<br>
LINK : warning L4021: no stack segment
</td>
<td></td><td></td><!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
　　".MAP"文件是连接程序生成的图文件，这个文件默认为不输出。".LIB"文件是子程序库文件，如果程序中某个子程序来源于一些现成的子程序库，则在连接时应明确指出库文件名。至于LINK程序产生的"Warning L4021:"是因为程序中没有明确定义堆栈段的缘故，这并不影响最续生成的可执行程序。<br>
　　使用TLINK（Turbo LINK）的方法是：
</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
C:\ASM\>tlink prog7/t[Enter]<br>
Turbo Link  Version 2.0  Copyright (c) 1987, 1988 Borland International<br>
Warning: no stack
</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
　　由于程序中没有定义堆栈段，因此TLINK同样出现了一个"Warning"，这也没有关系。不过"/T"参数只能在这里使用，因为PROG7可以转成".COM"类的可执行程序。对于那些具有多个段的程序因其只能以.EXE的形式存在，所以不能用"/T"参数。<br>
　　经过这一步骤，我们便得到一个名PROG7.COM的文件。运行此程序，即可从喇叭中听到1000Hz的声音。<br>
　　有时候程序中可能有逻辑错误，这需要我们用DEBUG将其排除掉，将一个可执行文件调入DEBUG中的方法在前面已经应用过：
</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18><font size=5>
C:\ASM\>DEBUG PROG7.COM[Enter]
</font></td>
<td></td><td></td> <!右边距>
</tr>
<tr>
<td></td><td></td> <!左边距>
<td colspan=6><hr></td>
<td colspan=6 align="center"><font face="楷体_GB2312" size=5>
<i>或者这样操作:</i>
</font></td>
<td colspan=6><hr></td>
<td></td><td></td> <!右边距>
</tr>
<tr>
<td></td><td></td> <!左边距>
<td colspan=9 align="center">
L（LOAD）命令的作用是装入一<br>个文件，文件名由N命令给出。
</td>
<td colspan=9><font size=5>
C:\ASM\>DEBUG[Enter]<br>
-NPROG7.COM[Enter]<br>
-L[Enter]
</font></td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
　　文件装入后即可用T、P命令跟踪执行或用U命令反汇编，下面是PROG7的反汇编形式： 
</td>
<td></td><td></td> <!右边距>
</tr>

</font>

<!页脚线>
<tr valign="top">
<td></td><td colspan=20><hr></td><td></td>
</tr>
<!页脚>
<tr height=60 valign="top">
<td></td><td></td>
<td colspan=9><i>Copyright &copy; 2004-2005 <a href="mailto:webmaster@nucstorm.com">Chunk Lee</a></i></td>
<td colspan=9 align="right"><i><a href="http://www.nucstorm.com" target="_top">www.nucstorm.com</a></i></td>
<td></td><td></td>
</tr>
</table>
<!导航条>
<p align="right"><a href="content1.html">目录</a> <a href="page50.html">上一页</a> <a href="page52.html">下一页</a> <a href="page80.html">下一章</a></p>
</body>
</html>

