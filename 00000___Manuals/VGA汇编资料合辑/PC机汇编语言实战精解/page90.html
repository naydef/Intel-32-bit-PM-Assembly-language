<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<title>第5章 子过程和串处理</title>
</head>

<body>
<style type="text/css">
body {
	background-color: #c0c0c0;
}

table {
	background-color: #c0c0c0;
	line-height: 24px;
}
</style>
<!导航条>
<p><a href="content1.html">目录</a> <a href="page89.html">上一页</a> <a href="page91.html">下一页</a> <a href="page116.html">下一章</a></p>
<table 	border=0 align="center" width=800 frame="box" rules="none">
<!标尺行>
<tr>
<td width=3%></td><td width=6%></td><td width=1%></td>
<td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td>
<td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td><td width=5%></td>
<td width=1%></td><td width=6%></td><td width=3%></td>
</tr>
<!页眉行>
<tr height=60 valign="bottom">
<td></td><td>-90-</td><td></td> <!页码>
<td colspan=6>PC机汇编语言实战精解</td><td colspan=4></td><td colspan=6 align="right"><img src="icons/flag.gif"></td> <!书名>
<td></td><td></td><td></td> <!右侧空白>
</tr>
<!页眉线>
<tr valign="top">
<td></td><td colspan=20><hr></td><td></td>
</tr>

<!正文>
<font face="宋体" lang="ZH-CN" size=3>

<tr height=20><td colspan=22></td></tr> <!顶部空白>

<tr>
<td></td><td></td> <!左边距>
<td colspan=2>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
hexout<br>
code<br>
<br>
</td>
<td colspan=2>
mov<br>
int<br>
pop<br>
pop<br>
loop<br>
mov<br>
mov<br>
int<br>
mov<br>
int<br>
pop<br>
ret<br>
endp<br>
ends<br>
end
</td>
<td colspan=6>
ah,2<br>
21h<br>
ax<br>
cx<br>
hexloop<br>
dl,CR<br>
ah,2<br>
21h<br>
dl,LF<br>
21h<br>
ax<br>
<br>
<br>
<br>
main
</td>
<td colspan=8>
；显示数字<br>
<br>
；恢复AX寄存器<br>
；恢复CX寄存器<br>
；循环至HEXLOOP处理下个数位<br>
；显示回车符<br>
<br>
<br>
；显示换行符<br>
<br>
；恢复AX寄存器<br>
；返回主程序<br>
<br>
<br>
<br>
</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
　　程序中DW伪指令的用法有些奇特，一般情况下我们常用DB、DW伪指令定义一些变量，这些变量往往有初值，所以在DB、DW后面总要跟一些字符串或数字。如果所定义的变量无初值，则我们就可以用"DW ？"这样的用法，"？"表示留出相应的存储空间，但不存入数据。不过请不要被"不存入数据"这句话误导，说是不存入数据，实际上这些存储空间将被初始化为"0"，"D# ？"和"D# 0"是完全一样的。这和我们从堆栈中动态分配到的存储空间不一样，当我们从堆栈中分配到自动变量空间后，我们有时要自己将其初始化为0，仔细研究一下CALC1.ASM不难发现这一点，然而用"D#  ？"定义的变量就无需初始化。<br>
　　新出现的"DUP"（Duplication）是一个操作符：
</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=2><hr></td>
<td colspan=2 align="center"><font size=5>DUP<font></td>
<td colspan=14><hr></td>
<td></td><td></td> <!右边距>
</tr>
<tr>
<td></td><td></td> <!左边距>
<td colspan=18><font face="楷体_GB2312">
　　我们在第四章中谈到过一个分析运算符--OFFSET，用于取得某些变量的偏移地址。现在讨论的"DUP"操作符主要用于生成多个具有相同位宽的变量，用法很简单：
</font></td>
<td></td><td></td> <!右边距>
</tr>
<tr>
<td></td><td></td> <!左边距>
<td colspan=2><hr></td><td colspan=13><font face="楷体_GB2312" size=5>变量名 DB/DW 变量个数 DUP 数值1,数值2,...<font></td><td colspan=3><hr></td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=18>
　　 "变量个数"应是一个正整数，用来指定括号中的数据项重复次数，请看下例：
</td>
<td></td><td></td> <!右边距>
</tr>

<tr>
<td></td><td></td> <!左边距>
<td colspan=2>
TEMP.<br>
data<br>
var1<br>
var2<br>
var3<br>
data<br>
end
</td>
<td colspan=2>
ASM<br>
segment<br>
db<br>
db<br>
db<br>
ends<br>
<br>
</td>
<td colspan=6>
<br>
<br>
2 dup ('A')<br>
2 dup ('A','B','C')<br>
2 dup ('A',2 dup('B'),'C')<br>
<br><br>
</td>
<td colspan=8>
<br>
<br>
；定义'AA'<br>
；定义'ABCABC'<br>
；定义'ABBCABBC'<br>
<br>
<br>
</td>
<td></td><td></td> <!右边距>
</tr>

</font>

<!页脚线>
<tr valign="top">
<td></td><td colspan=20><hr></td><td></td>
</tr>
<!页脚>
<tr height=60 valign="top">
<td></td><td></td>
<td colspan=9><i>Copyright &copy; 2004-2005 <a href="mailto:webmaster@nucstorm.com">Chunk Lee</a></i></td>
<td colspan=9 align="right"><i><a href="http://www.nucstorm.com" target="_top">www.nucstorm.com</a></i></td>
<td></td><td></td>
</tr>
</table>
<!导航条>
<p align="right"><a href="content1.html">目录</a> <a href="page89.html">上一页</a> <a href="page91.html">下一页</a> <a href="page116.html">下一章</a></p>
</body>
</html>

